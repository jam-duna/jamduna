#!/bin/bash
# Build and test JAM EVM components
# Usage: ./jamtest

set -e  # Exit immediately if any command fails

echo "=== JAM Test Build Script ==="
echo ""

echo "Step 1: Building ALGO service..."
cd services
if ! make algo; then
    echo "✗ ALGO service build FAILED"
    exit 1
fi
cd ..
echo "✓ ALGO service build complete"
echo ""

echo "Step 2: Building duna_spec..."
if ! make duna_spec; then
    echo "✗ duna_spec build FAILED"
    exit 1
fi
echo "✓ duna_spec build complete"
echo ""

echo "Step 3: Building ALGO node interpreter..."
cd node
if ! make algo_node_interpreter; then
    echo "✗ ALGO node interpreter build FAILED"
    exit 1
fi
cd ..
echo "✓ ALGO node interpreter build complete"
echo ""

echo "=== All builds completed successfully ==="
